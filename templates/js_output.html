<html>
<head>
    <title>Profile Intensity // Plotting instensity</title>
    <style type="text/css">
        .formula {
            font-family: Helvetica, Verdana, sans-serif; 
            font-size: 200%; 
            font-weight: light;
            text-align: left;
            margin-left: 100px;
            color: #1F1F1F;

        }
        .imaging {
            margin-left: 25px;
            max-width: 400px;
            width: 400px;
        }
    </style>
</head>

<body>

<a href="{{ url_for('upload') }}"><div class="formula"><b>Назад</b></div></a>
<p>
<div style="width:760px;"><canvas id="myChart"></canvas></div>
<p>
   <div class="formula"> <b> Imax/I0 = {{ IdI0 }} </b></div>
<p>
    <div class="imaging">
        <img width="800" height="300" src="{{ image }}">
    </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>


    <script>
var ctx = document.getElementById('myChart').getContext('2d');

function generateData() {
            var data = [];
            {% for y in Y %}
            data.push({
                    x: {{ X[loop.index-1] }},
                    y: {{y}}
                });

            {% endfor %}
                
            
            return data;
        }

var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
        labels: {{X}},
        datasets: [{
            label: 'Интенсивность',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: generateData()
            
        }],
    },

    options: {
            title: {
                display: true,
                text: 'Image Intensity Profile'
            },
            layout: {
                        padding: {
                            left: 50,
                            right: 0,
                            top: 0,
                            bottom: 0
                        }
                    },
            scales: {
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: 'Пиксели'
                        }
                    }],
                    
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: 'Интенсивность профиля'
                        }
                    }]
                },
            
        }
    
    
});
</script>